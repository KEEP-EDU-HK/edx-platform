## mako
<%page expression_filter="h"/>
<%!
  from django.core.urlresolvers import reverse
  from django.utils.translation import ugettext as _
  from branding.api import get_footer
  from openedx.core.djangoapps.lang_pref.api import footer_language_selector_is_enabled
%>
<% footer = get_footer(is_secure=is_secure) %>
<%namespace name='static' file='static_content.html'/>

<div id="keepfooter"></div>

	<script>
        keepfooter("#666", 'en');
        $(document).ready( function() {
            setFooter();
        });
        
        window.onresize = function(event) {
            setFooter();
        };
        
        function setFooter() {
            var windowHeight = $(window).height();
            var padding = 64;
            var margin = 48;
            var header = 48;
            var accessHeight = (windowHeight * 0.102);
            accessHeight = 0; 
            var footerHeight = $(".keepfooter").height() + padding + margin + header + accessHeight;
            $(".main-container").css("min-height", (windowHeight - footerHeight) + "px");
            
            /*var footerPosition = $(".keepfooter").position()['top'];

            if (windowHeiht > footerPosition) {
                $(".keepfooter").css("position", "absolute");
                $(".keepfooter").css("bottom", "0");
                $(".keepfooter").css("width", "100%");
            }*/
        }
    </script>

% if include_dependencies:
  <%static:js group='base_vendor'/>
  <%static:css group='style-vendor'/>
  <%include file="widgets/segment-io.html" />
  <%include file="widgets/segment-io-footer.html" />
% endif
% if footer_css_urls:
  % for url in footer_css_urls:
    <link rel="stylesheet" type="text/css" href="${url}"></link>
  % endfor
% endif
% if settings.FEATURES.get('ENABLE_COOKIE_CONSENT', False):
  <%include file="widgets/cookie-consent.html" />
% endif
